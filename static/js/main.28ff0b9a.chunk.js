(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{192:function(e){e.exports=JSON.parse('{"chart.datePickerText":"Choose a starting date: ","chart.openButton":"Go to chart","chart.closeButton":"Close chart","chart.title":"Currency value by time","currencyConverter.fromText":"From: ","currencyConverter.toText":"To: ","currencyConverter.toSelectDefault":"--Please choose an option--"}')},193:function(e){e.exports=JSON.parse('{"chart.datePickerText":"Elige una fecha de inicio: ","chart.openButton":"Ir al Grafico","chart.closeButton":"Cerrar Grafico","chart.title":"Valor de la moneda x tiempo","currencyConverter.fromText":"De: ","currencyConverter.toText":"A: ","currencyConverter.toSelectDefault":"--Elije una opcion--"}')},203:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,s,u,l,d,b=n(1),j=n.n(b),h=n(94),x=n.n(h),p=(n(203),n(52)),f="FETCH_CURRENCY",g="PENDING_CURRENCY",O="GET_CURRENCY",y="FETCH_TIMESERIES",m="PENDING_TIMESERIES",v="GET_TIMESERIES",C="SET_TARGET_CURRENCY",w="SET_DATE_TIMESERIES",E="TOGGLE_CHART",S=function(e,t,n,r){return{type:y,starDate:e,endDate:t,currencySelected:n,currencyTarget:r}},T=n(55),D=n(342),_=n(345),k=n(340),N=n(34),L=n(35),R=L.a.p(r||(r=Object(N.a)(["\n    padding: 5px 0 10px;\n    text-align: center;\n"]))),F=L.a.div(a||(a=Object(N.a)(["\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    max-height: 500px;\n"]))),I=n(67),G=n.n(I),M="EUR",P="2021-01-01",B="bubbles",U="#808080",A="#000000",z="#ffffff",J="769px",Y=n(347),H=n(103),V=n(6),X=Object(H.c)((function(e){var t=e.fetchTimeSerie,n=e.setChartTime,r=e.intl.formatMessage,a=Object(b.useState)(P),c=Object(T.a)(a,2),i=c[0],o=c[1];Object(b.useEffect)((function(){t()}),[t]);var s=function(){var t=e.chartData,n=t.timeSeries,a=t.isLoading;return Object(V.jsx)(F,{children:a?Object(V.jsx)(G.a,{type:"spokes",color:U}):Object(V.jsxs)(D.a,{height:250,width:500,scale:{x:"time"},children:[Object(V.jsx)(_.a,{text:r({id:"chart.title"}),x:225,y:30,textAnchor:"middle"}),Object(V.jsx)(k.a,{data:n})]})})};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(R,{children:[Object(V.jsx)(Y.a,{id:"chart.datePickerText"}),Object(V.jsx)("input",{value:i,type:"date","aria-label":"chart-date-input",onChange:function(e){o(e.target.value),t(e.target.value),n(e.target.value)}})]}),Object(V.jsx)(s,{})]})})),q=Object(p.b)((function(e){return{chartData:e.chartData}}),(function(e){return{fetchTimeSerie:function(t){return e(S(t))},setChartTime:function(t){return e({type:w,startTime:t})}}}))(X),K=L.a.form(c||(c=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-evenly;\n    box-sizing: border-box;\n    flex-direction: column;\n    padding: 20px;\n    margin: 0 auto;\n    width: 100%;\n\n    @media only screen and (min-width: ",") {\n        flex-direction: row;\n        align-items: baseline;\n    }\n"])),J),Q=L.a.article(i||(i=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),W=L.a.select(o||(o=Object(N.a)(["\n    width: 100%;\n    height: 35px;\n    background: ",";\n    color: ",";\n    padding-left: 5px;\n    font-size: 14px;\n    border: none;\n    margin-left: 10px;\n    width: 300px;\n\n    option {\n        color: ",";\n        background: ",";\n        display: flex;\n        white-space: pre;\n        min-height: 20px;\n        padding: 0px 2px 1px;\n    }\n"])),z,U,A,z),Z=L.a.div(s||(s=Object(N.a)(["\n    display: flex;\n    align-items: center;\n    text-align: center;\n    justify-content: space-evenly;\n    flex-direction: column;\n\n    @media only screen and (min-width: ",") {\n        flex-direction: row;\n    }\n\n    .from-currency {\n        width: 40%;\n        font-size: 18px;\n        input {\n            -webkit-appearance: none;\n            -moz-appearance: textfield;\n            text-align: center;\n            margin-right: 5px;\n            padding: 5px 0 7px;\n            border: 1px solid transparent;\n            border-bottom-color: ",";\n            transition: 0.4s;\n            font-size: 18px;\n\n            @media only screen and (min-width: ",") {\n                text-align: right;\n            }\n        }\n        input:focus {\n            padding: 5px 1px 7px;\n            transition: 0.4s;\n        }\n    }\n\n    .to-currency {\n        display: flex;\n        justify-content: center;\n        height: 53px;\n        width: 40%;\n    }\n"])),J,"#cccccc",J),$=L.a.button(u||(u=Object(N.a)(["\n    background-color: ",";\n    border: none;\n    padding: 15px 32px;\n    margin-top: 25px;\n"])),"#f8f8ff"),ee=Object(H.c)((function(e){var t=e.fetchCurrency,n=e.asignTargetCurrency,r=e.fetchTimeSerie,a=e.toggleChart,c=Object(b.useState)(M),i=Object(T.a)(c,2),o=i[0],s=i[1],u=Object(b.useState)(""),l=Object(T.a)(u,2),d=l[0],j=l[1],h=Object(b.useState)(1),x=Object(T.a)(h,2),p=x[0],f=x[1];Object(b.useEffect)((function(){t()}),[t]);return Object(V.jsxs)(Q,{children:[Object(V.jsxs)(K,{children:[function(){var n=e.currency,r=n.rates;return n.isLoading?Object(V.jsx)(G.a,{type:B,color:U}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("label",{htmlFor:"from-currency",children:Object(V.jsx)(Y.a,{id:"currencyConverter.fromText"})}),Object(V.jsx)(W,{id:"from-currency",value:o,onChange:function(e){return n=e.target.value,s(n),void t(n);var n},children:Object.keys(r).map((function(e,t){return Object(V.jsx)("option",{children:e},t)}))})]})}(),function(){var t=e.currency,a=t.rates,c=t.isLoading,i=e.intl.formatMessage;return c?Object(V.jsx)(G.a,{type:B,color:U}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("label",{htmlFor:"to-currency",children:Object(V.jsx)(Y.a,{id:"currencyConverter.toText"})}),Object(V.jsxs)(W,{id:"to-currency",value:d,onChange:function(t){return function(t){var a=e.currency.showChart;j(t),n(t),a&&r()}(t.target.value)},children:[Object(V.jsx)("option",{value:"",children:i({id:"currencyConverter.toSelectDefault"})}),Object.keys(a).map((function(e,t){return Object(V.jsx)("option",{children:e},t)}))]})]})}()]}),function(){var t=e.currency,n=t.isLoading,r=t.rates,c=t.showChart,i=e.intl.formatMessage;return d?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(Z,{children:[Object(V.jsxs)("p",{className:"from-currency",children:[Object(V.jsx)("input",{type:"number",min:"1",value:p,onChange:function(e){return f(e.target.valueAsNumber||1)}}),o]}),Object(V.jsx)("div",{className:"text-currency",children:"="}),Object(V.jsx)("div",{className:"to-currency",children:n?Object(V.jsx)(G.a,{type:B,color:U}):Object(V.jsxs)("p",{children:[r[d]*p," ",d]})})]}),Object(V.jsx)($,{onClick:function(){return a()},children:i(c?{id:"chart.closeButton"}:{id:"chart.openButton"})})]}):null}()]})})),te=Object(p.b)((function(e){return{currency:e.exchange}}),(function(e){return{fetchCurrency:function(t){return e(function(e){return{type:f,currencySelected:e}}(t))},asignTargetCurrency:function(t){return e({type:C,targetCurrency:t})},fetchTimeSerie:function(t){return e(S(t))},toggleChart:function(){return e({type:E})}}}))(ee),ne=L.a.section(l||(l=Object(N.a)(["\n    display: flex;\n    flex-direction: column;\n    border-radius: 5px;\n    box-shadow: 5px 3px 5px ",";\n    border: 1px solid ",";\n\n    @media only screen and (min-width: ",") {\n        margin: 60px auto;\n        width: 70%;\n    }\n"])),U,A,J),re=L.a.article(d||(d=Object(N.a)(["\n    height: 0px;\n    margin: 0 auto;\n    visibility: hidden;\n    opacity: 0;\n    width: 0px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    transition: all 0.5s ease-in-out;\n\n    &.chart-displayed {\n        height: 70%;\n        padding: 20px;\n        opacity: initial;\n        visibility: initial;\n        width: 100%;\n\n        @media only screen and (min-width: ",") {\n            height: 500px;\n            width: 60%;\n        }\n    }\n"])),z,J),ae=function(e){var t=e.showChart;return Object(V.jsxs)(ne,{children:[Object(V.jsx)(te,{}),Object(V.jsx)(re,{className:t?"chart-displayed":"",children:t?Object(V.jsx)(q,{}):Object(V.jsx)(V.Fragment,{})})]})},ce=Object(p.b)((function(e){return{showChart:e.exchange.showChart}}))(ae),ie=n(343),oe=n(18),se=n(192),ue=n(193);var le=function(){var e="es_ES"===(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)?{locale:"es_ES",messages:Object(oe.a)({},ue)}:{locale:"en-US",messages:Object(oe.a)({},se)};return Object(V.jsx)(ie.a,{defaultLocale:"en",locale:e.locale,messages:e.messages,defaultMessages:e.messages,children:Object(V.jsx)(ce,{})})};var de=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(le,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,349)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},je=n(56),he=n(194),xe={isLoading:!1,base:M,date:0,rates:[],toCurrency:"",showChart:!1},pe=function(e,t){var n=t.base,r=t.date,a=t.rates;return Object(oe.a)(Object(oe.a)({},e),{base:n,date:r,rates:a,isLoading:!1})};var fe={isLoading:!1,base:M,timeSeries:[],startingDate:P},ge=function(e,t){var n=t.timeSeries.payload.rates,r=[];return Object.entries(n).forEach((function(e){var t=Object(T.a)(e,2),n=t[0],a=t[1];return r.push({x:new Date(n),y:Object.values(a)[0]})})),Object(oe.a)(Object(oe.a)({},e),{},{timeSeries:r,isLoading:!1})};var Oe=Object(je.b)({exchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0});case C:return Object(oe.a)(Object(oe.a)({},e),{},{toCurrency:t.targetCurrency});case O:return pe(e,t.exchange.payload);case E:return Object(oe.a)(Object(oe.a)({},e),{},{showChart:!e.showChart});default:return e}},chartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0});case v:return ge(e,t);case w:return Object(oe.a)(Object(oe.a)({},e),{},{startingDate:t.startTime});default:return e}}}),ye=n(41),me=n.n(ye),ve=n(23),Ce=n(127),we=n.n(Ce),Ee=me.a.mark(Ne),Se=me.a.mark(Ie),Te=me.a.mark(Ge),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return we.a.get("https://api.exchangerate.host/latest",{params:{base:e}})},_e=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"USD";return we.a.get("https://api.exchangerate.host/timeseries",{params:{base:n,symbols:r,start_date:e,end_date:t}})},ke=function(e){return e.exchange.showChart};function Ne(e){var t,n;return me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.currencySelected,r.next=4,Object(ve.d)({type:g});case 4:return r.next=6,Object(ve.b)((function(){return De(t)}));case 6:return n=r.sent,r.next=9,Object(ve.d)((a={payload:n.data},{type:O,exchange:a}));case 9:return r.next=11,Object(ve.e)(ke);case 11:if(!r.sent){r.next=15;break}return r.next=15,Object(ve.d)({type:y});case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),console.log(r.t0);case 20:case"end":return r.stop()}var a}),Ee,null,[[0,17]])}var Le=function(e){return e.chartData.startingDate},Re=function(e){return e.exchange.toCurrency},Fe=function(e){return e.exchange.base};function Ie(e){var t,n,r,a,c;return me.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.starDate,i.next=4,Object(ve.d)({type:m});case 4:return i.next=6,Object(ve.e)(Re);case 6:return n=i.sent,i.next=9,Object(ve.e)(Fe);case 9:return r=i.sent,i.next=12,Object(ve.e)(Le);case 12:return a=i.sent,i.next=15,Object(ve.b)((function(){return _e(t||a,(new Date).toJSON().slice(0,10),r,n)}));case 15:return c=i.sent,i.next=18,Object(ve.d)((o={payload:c.data},{type:v,timeSeries:o}));case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(0),console.log(i.t0);case 23:case"end":return i.stop()}var o}),Se,null,[[0,20]])}function Ge(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Object(ve.f)(f,Ne),Object(ve.f)(y,Ie)]);case 2:case"end":return e.stop()}}),Te)}var Me=Ge,Pe=me.a.mark(Be);function Be(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ve.a)([Object(ve.c)(Me)]);case 2:case"end":return e.stop()}}),Pe)}var Ue=Object(he.a)(),Ae="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.c,ze=Object(je.d)(Oe,Ae(Object(je.a)(Ue)));Ue.run(Be);var Je=ze;x.a.render(Object(V.jsx)(j.a.StrictMode,{children:Object(V.jsx)(p.a,{store:Je,children:Object(V.jsx)(de,{})})}),document.getElementById("root")),be()}},[[332,1,2]]]);
//# sourceMappingURL=main.28ff0b9a.chunk.js.map